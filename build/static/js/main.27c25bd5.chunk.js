(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{15:function(e,t,a){"use strict";var r=a(59);a.d(t,"WeatherReportContext",(function(){return r.a})),a.d(t,"initialState",(function(){return r.b}));var n=a(60);a.o(n,"reducer")&&a.d(t,"reducer",(function(){return n.reducer}));var c=a(61);a.d(t,"reducer",(function(){return c.a}))},59:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var r=a(0),n={loading:!0,error:!1,degreeType:"metric",weather:{date:[{date:"",time:"",temp:0,description:"",descriptionTitle:""}]},activeDay:[]},c=Object(r.createContext)({dispatch:function(){},state:n})},60:function(e,t){},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(19),n=function(e,t){switch(t.type){case"LOADING_SET":return Object(r.a)(Object(r.a)({},e),{},{loading:t.payload.loading});case"ERROR_SET":return Object(r.a)(Object(r.a)({},e),{},{error:t.payload.error});case"WEATHER_SET":return Object(r.a)(Object(r.a)({},e),{},{weather:t.payload.weather});case"ACTIVE_DAY_SET":return Object(r.a)(Object(r.a)({},e),{},{activeDay:t.payload.activeDay});case"DEGREE_SET":return Object(r.a)(Object(r.a)({},e),{},{degreeType:t.payload.degreeType});default:return e}}},85:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(14),i=a.n(c),o=(a(85),a(128)),d=a(129),s=a(130),u=a(134),j=a(131),l=a(133),b=a(22),p=a(127),O=a(121),h=a(125),x=a(126),f=a(70),y=a.n(f),m=a(71),v=a.n(m),g=a(122),C=a(123),w=a(124),T=a(98),E=a(4),D=Object(O.a)({root:{maxWidth:345}}),S=function(e){var t=e.day,a=e.temperature,r=e.date,n=e.weatherDescription,c=e.onClick,i=e.degree,o=D(),d=i.split("");return Object(E.jsx)(g.a,{className:o.root,"data-testid":"card",children:Object(E.jsx)(C.a,{onClick:c,children:Object(E.jsxs)(w.a,{children:[Object(E.jsxs)(T.a,{variant:"h5",children:[" ",t," ",Object(E.jsxs)(T.a,{variant:"body2",children:[n," "]})]}),Object(E.jsxs)(T.a,{"data-testid":"card-temp",variant:"h3",children:["".concat(a)," ",Object(E.jsx)("sup",{children:d[0]}),Object(E.jsx)("b",{children:d[1]})]}),Object(E.jsxs)(T.a,{"data-testid":"card-date",variant:"body2",children:[" ","".concat(r)," "]})]})})})},R=a(15),k=a(74),_=Object(O.a)({root:{flexGrow:1}}),F=function(){var e=Object(r.useContext)(R.WeatherReportContext).state,t=e.weather,a=e.degreeType,n=function(){var e=Object(r.useContext)(R.WeatherReportContext).dispatch;return Object(r.useCallback)((function(t){e({type:"ACTIVE_DAY_SET",payload:{activeDay:Object(k.a)(t)}})}),[e])}(),c=_(),i=Object.keys(t),o=Object(r.useState)(0),d=Object(b.a)(o,2),s=d[0],u=d[1],j=Object(r.useState)(3),l=Object(b.a)(j,2),O=l[0],f=l[1];Object(r.useEffect)((function(){n(null===t||void 0===t?void 0:t[i[0]])}),[]);var m=Object(r.useCallback)((function(){s>0?(u(s-1),f(O-1)):(u(0),f(3))}),[s,O]),g=Object(r.useCallback)((function(){O>=3&&O<=i.length?(u(s+1),f(O+1)):(u(0),f(3))}),[i.length,s,O]),C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return Object(E.jsxs)(h.a,{container:!0,className:c.root,spacing:3,children:[Object(E.jsx)(h.a,{container:!0,children:Object(E.jsxs)(h.a,{item:!0,container:!0,xs:12,direction:"row",justify:"space-between",alignItems:"flex-start",children:[s>0?Object(E.jsx)(x.a,{onClick:m,children:Object(E.jsx)(y.a,{})}):Object(E.jsx)(E.Fragment,{children:" \xa0 "}),O!==i.length?Object(E.jsx)(x.a,{onClick:function(){return g()},children:Object(E.jsx)(v.a,{})}):Object(E.jsx)(E.Fragment,{children:" \xa0 "})]})}),i.slice(s,O).map((function(e){return Object(E.jsx)(h.a,{item:!0,xs:12,sm:4,children:Object(E.jsx)(S,{day:C[Object(p.a)(new Date(null===t||void 0===t?void 0:t[e][0].date))],date:null===t||void 0===t?void 0:t[e][0].date,temperature:null===t||void 0===t?void 0:t[e][0].temp,onClick:function(){return n(null===t||void 0===t?void 0:t[e])},weatherDescription:null===t||void 0===t?void 0:t[e][0].description,degree:"imperial"===a?"oF":"oC"})},e)}))]})},W=a(97),A=a(32),I=a(10),P=function(){var e=Object(r.useContext)(R.WeatherReportContext).state.activeDay.map((function(e){return{time:e.time,temperature:e.temp}}));return Object(E.jsx)(W.a,{children:Object(E.jsxs)(A.c,{data:e,children:[Object(E.jsx)(A.a,{}),Object(E.jsx)(A.e,{}),Object(E.jsx)(A.b,{valueField:"temperature",argumentField:"time"}),Object(E.jsx)(A.d,{text:"Temperatures during the day"}),Object(E.jsx)(I.a,{})]})})},G=a(31),L=a.n(G),M=a(73),N=a(132),H=function(e,t){return e.reduce((function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e}),{})},B=function(e){return!0===e.loading?Object(E.jsxs)("div",{"data-testid":"loading",children:[" Fetching weather information... ",Object(E.jsx)(o.a,{})," "]}):!0===e.error?Object(E.jsx)("div",{"data-testid":"error",children:"Opps! something went wrong, Please refresh the page, if the problem persists, do contact us weather(at)payoneer.com"}):Object(E.jsx)(E.Fragment,{children:e.children})},J=function(){!function(){var e=Object(r.useContext)(R.WeatherReportContext),t=e.dispatch,a=e.state.degreeType,n=Object(r.useCallback)(Object(M.a)(L.a.mark((function e(){var r,n,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_SET",payload:{loading:!0}}),e.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40","&units=").concat(a));case 4:return r=e.sent,e.next=7,r.json();case 7:n=e.sent,(c=n.list).forEach((function(e){e.date=Object(N.a)(new Date(e.dt_txt),"yyyy-MM-dd"),e.time=Object(N.a)(new Date(e.dt_txt),"HH:mm:ss"),e.temp=e.main.temp,e.description=e.weather[0].description,e.descriptionTitle=e.weather[0].main})),i=H(c,"date"),t({type:"LOADING_SET",payload:{loading:!1}}),t({type:"WEATHER_SET",payload:{weather:i}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),t({type:"ERROR_SET",payload:{error:!0}}),t({type:"LOADING_SET",payload:{loading:!1}});case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),[a,t]);Object(r.useEffect)((function(){n()}),[n])}();var e=Object(r.useContext)(R.WeatherReportContext).state,t=e.loading,a=e.error,n=e.degreeType,c=function(){var e=Object(r.useContext)(R.WeatherReportContext).dispatch;return Object(r.useCallback)((function(t){e({type:"DEGREE_SET",payload:{degreeType:t}})}),[e])}();return Object(E.jsxs)(B,{loading:Boolean(t),error:a,children:[Object(E.jsx)(d.a,{}),Object(E.jsxs)(s.a,{"data-testid":"weather-info-page",children:[Object(E.jsxs)(u.a,{role:"radio",row:!0,"aria-label":"Degree",name:"temperature-degree",value:n,onChange:function(e){return c(e.target.value)},children:[Object(E.jsx)(j.a,{value:"metric",control:Object(E.jsx)(l.a,{inputProps:{"data-testid":"radio-celcius"},color:"primary"}),label:"Celcius",role:"radio"}),Object(E.jsx)(j.a,{value:"imperial",control:Object(E.jsx)(l.a,{inputProps:{"data-testid":"radio-fahrenheit"},color:"primary"}),label:"Fahrenheit",role:"radio"})]}),Object(E.jsx)(F,{"data-testid":"card-wrapper"}),Object(E.jsx)("p",{children:"Click on a card to see timely weather details"}),Object(E.jsx)("div",{style:{marginTop:"2rem"},children:Object(E.jsx)(P,{})})]})]})};var V=function(){return Object(E.jsx)(J,{})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,136)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),c(e),i(e)}))},q=function(e){var t=Object(r.useReducer)(R.reducer,R.initialState),a=Object(b.a)(t,2),n=a[0],c=a[1],i=Object(r.useMemo)((function(){return{dispatch:c,state:n}}),[c,n]);return Object(E.jsx)(R.WeatherReportContext.Provider,{value:i,children:e.children})};i.a.render(Object(E.jsx)(n.a.StrictMode,{children:Object(E.jsx)(q,{children:Object(E.jsx)(V,{})})}),document.getElementById("root")),Y()}},[[95,1,2]]]);
//# sourceMappingURL=main.27c25bd5.chunk.js.map